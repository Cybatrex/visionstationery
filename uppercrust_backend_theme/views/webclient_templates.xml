<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="assets_common" inherit_id="web.assets_common">
        <xpath expr="//script[contains(@src, '/web/static/src/js/services/config.js')]"
               position="replace">
            <script src="/uppercrust_backend_theme/static/src/js/framework/config.js"/>
        </xpath>
    </template>
    <template id="assets_backend" name="Admin theme assets"
              inherit_id="web.assets_backend">
        <xpath expr="." position="inside">
            <!-- All view Less File - Start-->
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/lib/custom_checkbox.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/lib/custom_radiobutton.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/lib/minicolors/jquery.minicolors.css"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/layout.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/variable.less" type="text/less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/other_variable.less" type="text/less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/webclient.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/tree_view.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/kanban_view.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/calendar.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/graph_view.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/control_panel_view.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/pivot_view.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/fonts.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/form_view.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/import_view.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/left_menu.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/dashboard.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/hr_view.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/mailbox_conversation.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/mailbox_mail.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/chart_of_account_view.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/nocontent_view.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/error_message_view.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/chat_view.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/lib/circle.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/loading.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/global_search.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/web_calender.less"/>

            <!-- Responsive Less-->
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/responsive/left_menu.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/responsive/kanban_view.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/responsive/control_panel_view.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/responsive/list_view.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/responsive/form_view.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/responsive/chat_window.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/responsive/responsive_xs.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/responsive/configration.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/responsive/mail_view.less"/>
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/responsive/base_setting.less"/>
            <!-- GLobal search less -->
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/less/input_global_search.less"/>

            <!-- Css For calc -->
            <link rel="stylesheet"
                  href="/uppercrust_backend_theme/static/src/css/layout.css"/>

            <!-- JS Path - start -->
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/lib/minicolors/jquery.minicolors.min.js"/>
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/js/views/web_planner.js"/>
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/js/main_view.js"/>
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/js/framework/controlpanel.js"/>
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/js/framework/view_manager.js"/>
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/js/framework/crash_manager.js"/>
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/js/views/form/form_renderer.js"/>
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/js/views/list/list_controller.js"/>
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/js/views/graph/graph_renderer.js"/>
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/js/fields/basic_fields.js"/>
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/js/views/quick_menu.js"/>
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/js/views/menu.js"/>
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/js/views/search_view.js"/>
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/js/views/import_action.js"/>
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/js/framework/chat_window.js"/>
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/js/framework/dashboard.js"/>
            <!-- JS Path - stop -->
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/js/responsive/breadcrumb.js"/>
            <!-- GLOBLE SEARCH -->
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/js/global_search/global_auto_complete.js"/>
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/js/global_search/global_search.js"/>
            <script type="text/javascript"
                    src="/uppercrust_backend_theme/static/src/js/global_search/iscroll.js"/>
            <!-- Responsive view js -->
        </xpath>
    </template>

    <!-- Left Menu View -[start] -->
    <template id="uppercrust_backend_theme.webclient_bootstrap"
              inherit_id="web.webclient_bootstrap">
        <xpath expr="//nav[@id='oe_main_menu_navbar']" position="replace">
            <div class="top_nav">
                <div class="nav_menu">
                    <nav id="oe_main_menu_navbar" role="navigation"
                         class="navbar navbar-inverse"
                         groups="base.group_user,base.group_portal">
                        <div class="nav toggle ad_navbar">
                            <div class="o_toggle_menu">
                                <li class="ad_logo">
                                    <a t-att-href="'/web/?debug' if debug else '/web'"
                                       class="ad-sm-logo">
                                        <img class="img img-responsive"
                                             t-attf-src="/web/image/res.company/{{res_company.id}}/theme_icon/60x60"/>
                                    </a>
                                </li>
                                <li>
                                    <a id="menu_toggle" accesskey="H"
                                       title="Menu">
                                        <span class="icon">Menu</span>
                                    </a>
                                </li>
                                <li>
                                    <a id="children_toggle" title="Menu">
                                        <i class="fa fa-plus"/>
                                    </a>
                                </li>
                            </div>
                        </div>
                        <div class="navbar-collapse collapse">
                            <t t-call="web.menu"/>
                        </div>
                    </nav>
                </div>
            </div>
        </xpath>
        <xpath expr="//div[hasclass('o_main')]" position="replace">
            <div class="o_main">
                <div class="ad_leftbar o_sub_menu"
                     groups="base.group_user,base.group_portal">
                    <div class="ad_right_panel">
                        <span class="oe_back_btn">
                            <i class="fa fa-arrow-left"/>
                        </span>
                        <t t-call="web.menu_secondary"/>
                    </div>
                </div>
                <div class="o_main_content ad_rightbar"/>
            </div>
        </xpath>
    </template>

    <template id="uppercrust_backend_theme.menu" inherit_id="web.menu">
        <xpath expr="//ul[hasclass('nav','navbar-nav','navbar-left','oe_application_menu_placeholder')]"
               position="replace">
        </xpath>
        <xpath expr="//ul[hasclass('nav','navbar-nav','navbar-right','oe_systray')]"
               position="replace">
            <ul id="av_full_view">
                <i class="fa fa-bars"/>
            </ul>
        </xpath>
        <xpath expr="//ul[hasclass('nav','navbar-nav','navbar-right','oe_user_menu_placeholder')]"
               position="before">
            <ul class="nav navbar-nav navbar-right oe_systray"
                style="display: none;"/>
        </xpath>
    </template>

    <template id="uppercrust_backend_theme.menu_secondary"
              inherit_id="web.menu_secondary">
        <xpath expr="//div[hasclass('o_sub_menu_content')]" position="after">
            <div class="oe_application_menu_placeholder" id="sidebar-menu">
                <div class="menu_section">
                    <ul t-foreach="menu_data['children']" t-as="menu"
                        class="nav side-menu">
                        <li t-if="menu['name'] not in ['Discuss', 'Conversations', 'Calendar']">
                            <t t-set="debug_param"
                               t-value="'?&amp;debug=' if debug else ''"/>
                            <a t-att-href="'/web%s#menu_id=%s&amp;action=%s' % (debug_param, menu['id'], menu['action'] and menu['action'].split(',')[1] or '')"
                               t-att-class="'oe_menu_toggler' if menu.get('children') else 'oe_menu_leaf'"
                               t-att-data-menu="menu['id']"
                               t-att-data-menu-xmlid="menu.get('xmlid')"
                               t-att-data-action-model="menu['action'].split(',')[0] if(menu['action'] and menu['action'].split(',')[0] != 'ir.actions.server') else None"
                               t-att-data-action-id="menu['action'].split(',')[1] if(menu['action'] and menu['action'].split(',')[0] != 'ir.actions.server') else None">
                                <img t-if="menu['web_icon_data']"
                                     t-att-src="'data:image/png;base64,%s' %to_text(menu['web_icon_data'])"/>
                                <img t-else=""
                                     src="/uppercrust_backend_theme/static/src/img/no_modul_ioc.png"/>
                                <span class="oe_menu_text">
                                    <t t-esc="menu['name']"/>
                                </span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </xpath>
        <xpath expr="//div[hasclass('oe_secondary_menu')]" position="replace">
            <div style="display:none;" class="oe_secondary_menu"
                 t-att-data-menu-parent="menu['id']">
                <a class="ad_main_menu_detals">
                    <img t-if="menu['web_icon_data']"
                         t-att-src="'data:image/png;base64,%s' %to_text(menu['web_icon_data'])"/>
                    <img t-else=""
                         src="/uppercrust_backend_theme/static/src/img/no_modul_ioc.png"/>
                    <span class="oe_menu_text">
                        <t t-esc="menu['name']"/>
                    </span>
                </a>
                <div class="ad_sub_menu">
                    <t t-foreach="menu['children']" t-as="menu">
                        <div t-att-class="'oe_secondary_menu_section link' if not menu['children'] else 'oe_secondary_menu_section'"
                             t-att-data-menu-xmlid="menu.get('xmlid')">
                            <t t-if="menu['children']">
                                <t t-esc="menu['name']"/>
                            </t>
                            <t t-if="not menu['children']">
                                <t t-call="web.menu_link"/>
                            </t>
                        </div>
                        <t t-call="web.menu_secondary_submenu"/>
                    </t>
                </div>
            </div>
        </xpath>
    </template>
</odoo>